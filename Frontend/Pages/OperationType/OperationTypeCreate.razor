@page "/operation_types/create"
@using Shared2.DTO.OperationType
@using Frontend.Services
@inject NavigationManager navManager
@inject HttpClient Http
@inject OperationTypeService MyService

<OperationTypeForm  operationType="@dto" OnValidSubmit="@Create" Loading="@loading" HeaderText="Create New OperationType"/>


@code {
    bool loading = false;
    CreateOperationTypeDto dto = new CreateOperationTypeDto();

    async Task Create()
    {
        loading = true;
        try
        {
            var createdObj = await MyService.Create(dto);
            navManager.NavigateTo($"/operation_types/{createdObj.Id}");
        }
        catch (Exception ex)
        {
            loading = false;
            StateHasChanged();
        }
    }
}