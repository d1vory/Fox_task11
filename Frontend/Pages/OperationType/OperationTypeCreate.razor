@page "/operation_types/create"
@using Shared2.DTO.OperationType
@using Frontend.Services
@inject NavigationManager navManager
@inject HttpClient Http

<OperationTypeForm  operationType="@dto" OnValidSubmit="@Create" loading="@loading" />


@code {
    bool loading = false;
    CreateOperationTypeDto dto = new CreateOperationTypeDto();

    async Task Create()
    {
        loading = true;
        try
        {
            var service = new OperationTypeService(Http);
            var createdObj = await service.Create(dto);
            navManager.NavigateTo($"/operation_types/{createdObj.Id}");
        }
        catch (Exception ex)
        {
            loading = false;
            StateHasChanged();
        }
    }
}